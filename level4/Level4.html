<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="jquery.rwdImageMaps.min.js"></script>
    <script src="jquery.rwdImageMaps.js"></script>
    <style>
        img[usemap] {
            border: none;
            height: auto;
            max-width: 100%;
            width: auto;
        }
    </style>
    <script>
        $(document).ready(function (e) {            
            $('img[usemap]').rwdImageMaps();
            $('area').on('click', function () {                           
                $('img[usemap]').rwdImageMaps();
               
            });
        });
    </script>
    
    <script>
        var keyPillow = "false"
        var keyRod = "false"
        var  keyHammer = "false"
        var keyLock ="false"
        var keyDoor = "false"

        function closeSection2() {
            $('#Section2').hide();
            $('#Section1').show();
            if (keyRod == "true" && keyPillow == "true") {
                $('#Section4').show();
                keyHammer = "true"
            }
        }
        function closeSection3() {
            $('#Section3').hide();
            $('#Section1').show();
            if (keyRod == "true" && keyPillow == "true") {
                $('#Section4').show();
                keyHammer = "true"
            }
        }
        function closeSection4() {
            $('#Section4').hide();
            $('#Section1').show();
        }
        function closeSection5() {
            $('#Section5').hide();
            $('#Section1').show();
        }
        function closeSection6() {
            $('#Section6').hide();
            $('#Section1').show();
        }
        function closeSection8() {
            $('#Section8').hide();
            $('#Section1').show();
        }
        function closeSection9() {
            $('#Section9').hide();
            $('#Section1').show();
        }
        function checkPwd()
        {
            if(txtpwd.value == "536")
            {
                $('img[usemap]').rwdImageMaps();   
                $('#Section8').show();
                $('#Section7').hide();
                keyDoor ="true"
            }
            else{
                $('#Section5').show();
                $('#Section7').hide();
            }
            $('#Section1').hide();
            $('#Section3').hide();
            $('#Section2').hide();
            $('#Section6').hide();
            $('#Section4').hide();            
            $('#Section9').hide();
            $('#Section10').hide();

        }
        function openDiv1() {
            keyPillow = "true"
            $('#Section2').show();
            // if (keyRod == "true") {
            //     $('#Section4').show();
            //     keyHammer = "true"
            // }
            $('#Section1').hide();
            $('#Section3').hide();
            $('#Section5').hide();
            $('#Section6').hide();
            $('#Section7').hide();
            $('#Section8').hide();
            $('#Section9').hide();
            $('#Section10').hide();

        }
        function openDiv2() {
            keyRod = "true"
            $('#Section3').show();
            // if (keyPillow == "true") {
            //     $('#Section4').show();
            //     keyHammer = "true"
            // }
            $('#Section1').hide();
            $('#Section2').hide();
            $('#Section5').hide();
            $('#Section6').hide();
            $('#Section7').hide();
            $('#Section8').hide();
            $('#Section9').hide();
            $('#Section10').hide();

        }
       
        function openDiv3() {            
           
            if (keyHammer == "true") {
                $('#Section5').show();
                keyLock = "true"
            }
            else{
                $('#Section6').show();
                
            }
            $('#Section1').hide();
            $('#Section2').hide();
            $('#Section3').hide();
            $('#Section4').hide();
            $('#Section7').hide();
            $('#Section8').hide();
            $('#Section9').hide();
            $('#Section10').hide();

        }

        function openDiv4() {            
           
           if (keyLock == "true") {
               $('#Section7').show();
               
           }
           else{
               $('#Section5').show();
           }
            $('#Section1').hide();
            $('#Section2').hide();
            $('#Section3').hide();
            $('#Section4').hide();
            $('#Section6').hide();
            $('#Section8').hide();
            $('#Section9').hide();
            $('#Section10').hide();

       }

       function openDiv5() {            
           
           if (keyDoor == "true") {
               $('#Section10').show();
               $('#Section1').hide();
                setTimeout(function(){$('#lvlclearmodal').modal('show');},500)
               
           }
           else{
               $('#Section9').show();
           }
            $('#Section5').hide();
            $('#Section2').hide();
            $('#Section3').hide();
            $('#Section4').hide();
            $('#Section6').hide();
            $('#Section8').hide();            
            $('#Section7').hide();
            $('#Section1').hide();

       }

    </script>

</head>

<body>
 <div class="container-fluid">
    <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-6"></div>
        <div class="col-md-2">
            <a href ="../level1/Level1.html">Reset</a> &nbsp; &nbsp;
            <b> <label id="lblWelcome">Welcome Guest</label></b>
        </div>
    </div>
    <div>
        <h1 style="padding-left: 470px;">ROOM 4 - STORE ROOM </h1>
    </div>
    <div id="Section1">
        <img src="img0_main room.jpg" alt="" usemap="#workmap">
        <map name="workmap">
            <area shape="rect" coords="588,564,395,622" alt="" href="#" onclick="openDiv1();" />
            <area shape="rect" coords="1147,482,1326,525" alt="" href="#" onclick="openDiv2();" />
            <area shape="rect" coords="962,371,1029,406" alt="" href="#" onclick="openDiv3();" />
            <area shape="rect" coords="956,403,1097,523" alt="" href="#" onclick="openDiv4();" />
            <area shape="rect" coords="725,275,898,511" alt="" href="#" onclick="openDiv5();" />
        </map>
        <div class="row">
            <div class="col-sm-4"></div>
            <div class="col-sm-6">
                <p>You are trapped in a mansion . You need to solve some puzzles to escape</p>
            </div>
        </div>
    </div>
        <div id="Section2" style="display: none;">
            <div >
                <img src="img2_pillow 2.jpg" alt="" usemap="#workmap1">
                <map name="workmap1">
                    <area shape="rect" coords="3,649,159,747" alt="fig2" href="#" onclick="closeSection2();" />
                </map>
            </div>
        </div>
        <div id="Section3" style="display: none;">
            <div >
                <img src="img1_bed 2.jpg" alt="" usemap="#workmap2">
                <map name="workmap2">
                    <area shape="rect" coords="-1,638,159,749" alt="fig2" href="#" onclick="closeSection3();" />
                </map>
            </div>
        </div>
        <div id="Section4" style="display: none;">
            <div style="position: absolute;top: 90%; left: 90%; transform: translate(-40%,-40%)">
                <img src="img3_ make hammer.jpg" alt="" usemap="#workmap3">
                <map name="workmap3">
                    <area shape="rect" coords="0,169,48,199" alt="fig2" href="#" onclick="closeSection4();" />
                </map>
            </div>
        </div>
        <div id="Section5" style="display: none;">
            <div >
                <img src="img5_locker 2.jpg" alt="" usemap="#workmap4">
                <map name="workmap4">
                    <area shape="rect" coords="-1,631,136,749" alt="fig2" href="#" onclick="closeSection5();" />
                </map>
            </div>
        </div>
        <div id="Section6" style="display: none;">
            <div>
                <img src="img5_locker 1.jpg" alt="" usemap="#workmap5">
                <map name="workmap5">
                    <area shape="rect" coords="-1,651,171,749" alt="fig2" href="#" onclick="closeSection6();" />
                </map>
            </div>
        </div>
        <div id="Section7" style="display: none;">
            <div >
                <img src="img7_final hint.jpg" alt="" style ="width:100%">
                <input type ="text" id ="txtpwd" style="position: absolute;top: 90%; left: 70%; transform: translate(-40%,-40%)">
                <a style="position: absolute;top: 90%; left: 85%; transform: translate(-40%,-40%)" href = "#" onclick="checkPwd();">Check</a>
                
            </div>
        </div>
        <div id="Section8" style="display: none;">
            <div >
                <img src="img5_locker 3.jpg" alt="" usemap="#workmap6">
                <map name="workmap6">
                    <area shape="rect" coords="5,634,177,750" alt="fig2" href="#" onclick="closeSection8();" />
                </map>
                
            </div>
        </div>
        <div id="Section9" style="display: none;">
            <div >
                <img src="img6_exit door closed.jpg" alt="" usemap="#workmap7">
                <map name="workmap7">
                    <area shape="rect" coords="0,643,158,750" alt="fig2" href="#" onclick="closeSection9();" />
                </map>
            </div>
        </div>
    
       
    <div id="Section10" style="display: none;">
        <div>
            <img src="img6_locker opened_Moment.jpg" alt="Nature">
            <div id="lvlclearmodal" class="modal" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                    <div class="modal-body">
                        <center>
                        <p><strong>Congratulations...</strong><br>You have cleared level 4</p>
                        <a href="../level5/Level5.html" class="btn btn-success">Proceed to level 5</a>
                    </center>
                    </div>
                  </div>
                </div>
              </div>

        </div>
    </div>
    <script>
        var name = localStorage.getItem('name')
        var label_text = $('#lblWelcome').text(); //Get the text            
        document.getElementById('lblWelcome').innerText = "Welcome " + name;        
        $('img[usemap]').rwdImageMaps();
    </script>
</div>
</body>

</html>
